## 객체지도

- `유일하게 변하지 않는 것은 모든 것이 변한다는 사실뿐이다`
- 기능을 중심으로 구조를 종속시키는 접근법은 범용적이지 않고 재사용이 불가능하며 변경에 취약한 모델을 만들게 된다
- 이와 달리 안정적인 구조를 중심으로 기능을 종속시키는 접근법은 범용적이고 재사용 가능하며 변경에 유연하게 대처할 수 있는 모델을 만든다

### 기능 설계 대 구조 설계

- 설계에는 기능(function)측명의 설계와 구조(structure)측면의 설계가 존재한다
- 전통적인 기능 분해(functional decomposition)
    - 자주 변경되는 기능을 중심으로 설계한 후 구조가 기능에 따르게 한다 &rarr; 변경에 취약
    - 기능 분해 방법의 경우 시스템 기능은 더 작은 기능으로 분해되고 각 기능은 서로 밀접하게 관련된 하나의 덩어리를 이루기 때문에 기능이 변겨오딜 경우 기능의 축을 따라 설계된 소프트웨어가 전체적으로 요동치게
      된다
    - ex) Movie -> Showing -> Screen -> Seat
- 객체지향의 방법
    - 자주 변경되지 않는 안정적인 객체 구조를 바탕으로 시스템 기능을 객체 간의 책임으로 분배한다
    - 객체지향은 객체의 구조에 집중하고 기능이 객체의 구조를 따르게 만든다
    - 시스템 기능은 더 작은 책임으로 분할되고 적절한 객체게 분배되기 때문에 기능이 변경되더라도 객체 간의 구조는 그대로 유지된다
    - ex) Benefit -> Reservation -> Customer

### 두 가지 재료: 기능과 구조

- 기능 : 사용자가 자신의 목표를 달성하기 위해 사용할 수 있는 시스템의 서비스
    - `기능은 사용자의 목표를 만족시키기 위해 책임을 수행하는 시스템의 행위로 표현한다`
- 구조 : 시스템의 기능을 구현하기 위한 기반으로, 기능 변경을 수용할 수 있도록 안정적이어야 한다
    - `구조는 사용자나 이해관계자들이 도메인(domain)에 관해 생각하는 개념과 개념들 간의 관계로 표현한다`

### 안정적인 재료: 구조

- 도메인 모델
    - 도메인 모델
        - 사용자가 프로그램을 사용하는 대상 영역에 관한 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태
        - 소프트웨어가 목적하는 영역 내의 개념과 개념 간의 관계, 다양한 규칙이나 제약 등을 주의 깊게 추상화 한것
        - 도메인 모델은 소프트웨어 개발과 과련된 이해관계자들이 도메인에 대해 생각하는 관점이다
        - 은행 업무에 종사하는 사람들은 은행 도메인을 고객과 게좌 사이의 돈의 흐름으로 이해할 것이다
- 도메인의 모습을 담을 수 있는 객체지향
    - 객체지향을 이용하면 도메인에 대한 사용자 모델, 디자인 모델, 시스템 이미지 모두가 유사한 모습을 유지하도록 만드는 것이 가능하다
    - 객체지향의 이러한 특징을 '연결완전성' 또는 '표현적 차이'라고 한다

<img src = "./IMG_5645.jpg" width = "600" height = "300">

- 표현적 차이
    - 소프트웨어의 객체와 실제 객체에는 차이가 있고 이를 표현적차이 또는 의미적 차이라고 한다. 은유를 통해서 이 차이를 최대한 줄여야 한다
    - 은유를 해야할 대상은 도메인 모델, 도메인 객체이다
    - 즉, 이미지 처럼 코드는 도메인 모델의 개념과 관계를 은유해야 한다

- 불안정한 기능을 담는 안정적인 도메인 모델
    - 도메인 모델이 제공하는 구조는 상대적으로 안정적이다
    - 도메인 모델의 핵심은 상요자가 도메인을 바라보는 관점을 반영해 소프트웨어를 설계하고 구현하는 것이다
        - 도메인에 대한 사용자의 관점을 반영해야 하는 이유는 사용자들이 누구보다도 도메인의 본질적인 측면을 가장 잘 이해하고 있기 때문이다
        - 또한 본질적이라는 것은 가장 변경이 적다는 말이며 안정적인 구조를 의미한다

### 불안정한 재료: 기능

- 유스케이스
    - 사용자의 목표를 달성하기 위해 사용자와 시스템 간에 이뤄지는 상호작용의 흐름을 텍스트로 정리한 것을 유스케이스라고 한다
- 예시
    - 유스케이스 명 : 중도 해지 이자액을 계산한다
    - 일차 액터 : 예금 주
    - 주요 성공 시나리오:
        - 1> 예금주가 정기예금 계좌를 선택한다
        - 2> 시스템은 정기예금 계좌 정보를 보여준다
        - 3> 예금주가 금일 기준으로 예금을 해지할 경우 지급받을 수 있는 이자 계산을 요청한다
        - 4> 시스템은 중도 해지 시 지급받을 수 있는 이자를 계산한 후 결과를 사용자에게 제공한다
    - 확장
        - 3a. 사용자는 해지 일자를 다른 일자로 입력할 수 있다 (3의 대안 시나리오)금
- 유스케이스의 특성
    - 1> 유스케이스는 사용자와 시스템간의 상호작용을 보여주는 '텍스트'이다 &rarr; 다이어그램에 노력을 쏟지 말아라
    - 2> 유스케이스는 하나의 시나리오가 아니라 여러 시나리오들의 집합이다 &rarr; 위 예시도 두개의 시나리오를 포함하고 있다
    - 3> 유스케이스는 단순한 피처(feature)목록과 다르다
    - 4> 유스케이스는 사용자 인터페이스와 관련된 세부 정보를 포함하지 말아야 한다 &rarr; 자주 변경되는 사용자 인터페이스 요소는 배제하고 행위에 초점을 맞춘다
    - 5> 유스케이스는 내부 설계와 관련된 정보를 포함하지 않는다 &rarr; 연관된 시스템의 기능을 이야기 형식으로 모으는 것이지 내부 설계를 설명하는 것이 아니다
- 유스케이스는 설계 기법도, 객체지향 기법도 아니다
    - 유스케이스는 단지 사용자가 시스템을 통해 무엇을 얻을 수 있고 어떻게 사용작용할 수 있느냐에 관한 정보만 기술된다
    - `유스케이스는 시스템이 외부에 제공해야 하는 행위만 포함하기 때문에 유스케이스로부터 시스템의 내부 구조를 유추할 수 있는 방법은 존재하지 않는다`

### 재료 합치기: 기능과 구조의 통합

<img src = "./IMG_5646.jpg" width = "900" height = "800">

- 도메인 모델, 유스케이스, 그리고 책임-주도 설계
  - `요구사항들을 식별하고 도메일 모델을 생성한 후, 소프트웨어 클래스에 메서드들을 추가하고 요구사항을 충족시키기 위해 객체들 간의 메시지 전송을 정의하라`
  - 