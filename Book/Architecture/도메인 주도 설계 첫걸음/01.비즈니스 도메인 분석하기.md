### 비즈니스 도메인 분석하기

- 회사가 고객에게 제공하는 서비스
- 기업은 여러 비즈니스 도메인을 운영할 수 있다
- 기업은 비즈니스 도메인을 자주 변경할 수 있다

### 하위 도메인

- 비즈니스 활동의 세분화된 영역
- 고객에게 제공하는 서비스 단위로 비즈니스 도메인을 만든다
- 전체 시스템의 하나의 구성요소 &rarr; 상호작용 필요
    - 스타벅스는 커피, 부동산, 재정관리등의 하위 도메인이 있다
- 어느 하위 도ㅓ메인도 자체적으로 수익을 낼 수 없다
    - 회사가 해당 비즈니스 도메인에서 경쟁하려면 모두 필요하다

### 하위 도메인 유형

- 서로 다른 전략적 비즈니스 가치를 가진다
- 핵심, 일반, 보조로 구분한다

### 핵심 하위 도메인(Core subdomain) = 핵심도메인

- 회사가 경쟁업체와 다르게 수행하고 있는것
    - 우버 &rarr; 새로운방식의 운송수단 제공
- 수익에 영향을 미친다
    - Google Ads(하위도메인이 있는 별도의 비즈니스 도메인), Search(Google Ads의 핵심 하위 도메인)
- 복잡성
    - 구현하기 쉬운 핵심 하위 도메인은 일시적인 경쟁 우위만을 제공할 수 있다 &rarr; 자연스럽게 복잡해진다
- 경쟁 우위의 원천
    - 핵심 하위 도메인에 반드시 기술이 들어가야 하는 것은 아니다
    - 보석업체의 경우 온라인 쇼핑몰은 중요하지만 핵심 하위 도메인은 아니다

### 일반 하위 도메인(Generic Subdomain)

- 모든 회사가 같은 방식으로 수행하는 비즈니스 활동
- 일반적으로 복잡하고 구현하기 어렵다 하지만 경쟁력은 제공하지 않는다
    - 실무에서 적용된 검즌된 솔류현으로 널리 이용가능
    - 혁신이나 최적화가 필요없음
        - ex) 사용자 인증 로그인 구현

### 지원 하위 도메인(Supporting Subdomain)

- 회사의 비즈니스 활동을 지원
- 경쟁력을 부여하지 않는다
- 특징 &rarr; 솔루션의 비즈니스로직의 복잡성
    - CURD 인터페이스 (어드민 페이지)

### 하위 도메인 비교

- 경쟁 우위
    - 핵심 하위 도메인 만이 경재 우위를 제공한다. 핵심 하위 도메인은 경쟁사와 차별화하기 위한 회사의 전략이다
    - 일반 하위 도메인은 일반적인 솔루션을 의미하며, 우리 회사와 경쟁업체가 동일한 솔루션을 사용하기 때문에 경쟁 우위를 제공할 수 없다
    - 지원 하위 도메인은 진입장벽이 낮고 경쟁 우위도 제공할 수 없다
- 복잡성
    - 지원 하위 도메인의 비즈니스 로직은 간단하다
        - 기본적인 CRUD인터페이스이며, 비즈니스 로직이 명확하다. 입력의 유효성을 검증하거나 다른 구조의 데이터로 변화하는 것 이상의 로직에서 벗어나지 않는다
    - 일반 하위 도메인은 복잡하며 '알려진 미지'이다'
        - '모른다는 사실'을 알고 있으며 해결책도 쉽개 구할 수 있다
        - 업계에서 인정하는 모범 살례를 사용하거나 필요한 경우 해당 분야의 컨선턴트를 고용하여 설계 할 수 있다
    - 핵심 하위 도메인은 복잡하다
        - 회사의 수익성이 좌우되기 때문에 경쟁업체가 최대한 모방하기 어려워야 한다
        - 핵심 하위 도메인과 지원 하위 도메인을 구별하는 것이 어려울 경우 복잡성을 기준으로 해도 좋다 (하위 도메인을 하청 할 수 있는 여부로 판단)
- 변동성
    - 핵심 하위 도메인은 자주 변경될 수 있다
        - 한 번의 시도로 문제가 해결될 수 있다면 경쟁자들도 빠르게 따라잡을 수 있기 떄문
        - 핵심 하위 도메인에 대한 개선 작업은 끝이 없다
    - 지원 하위 도메인은 자주 변경되지 않는다
        - 핵심 하위 도메인에 투자한 동일한 노력에 비해 아주 작은 비즈니스 가치를 제공한다
- 솔루션 전략
    - 핵심 하위 도메인은 사내에서 구현되어야 한다
        - 핵심 하위 도메인의 요구사항은 자주, 지속적으로 변경됨으로 유지보수가 가능하고 쉽게 개선될수 있어야 한다
    - 일반 하위 도메인은 이미 만들어진 제품을 구입하거나 오픈소스 솔루션을 채택하는 것이 비용면에서 효율적이다
    - 지원 하위 도메인은 기존에 만들어진 솔루션이 없는 경우가 있다
        - 지원 하위 도메인 구현은 비즈니스 로직이 단순하고 변경의 빈도가 적기 떄문에 원칙을 생략하고 적당히 진행하기 쉽다
        - 정교한 디자인 패턴이나 고급 엔지니어링 기술이 필요 없다
            - 아주 짧은 주기로 신속한 애플리케이션 개발(RAD: rapid application development)프레임워크를 사용해서 우발적 복잡성 없이 비즈니스 로직을 구현하기에 충분하다

### 하위도메인 경계 식별

- 하위 도메인과 그 유형은 기업의 비즈니스 전략에 따라 정의되며, 이는 동일한 분야에서 다른 회사와 경쟁하기 위해 자신을 차별화하는 방법이다
- 하위 도메인 정제
    - 일반 하위 도메인의 내부 업무를 의문을 가지고 분석하여 더욱 세분화된 핵심 하위 도메인, 지원 하위 도메인 일반 하위 도메인으로 나눌 수 있다
        - 일반 하위 도메인 &rarr; 창고, 배송, 출고, 품질관리, 인사, 채널 관리, 고객 서비스
        - 고객 서비스 &rarr; 상담 사례 라우팅(핵심), 헬프 데스크 시스템(일반), 전화(일반), 교대관리(지원)
        - 상담원에게 라이팅 하는 경우 독창적인 알고리즘을 개발 &rarr; 경쟁력 제공 &rarr; 핵심 하위 도메인
- (언제까지 정제해야 할까?) &rarr; 응집된 유스케이스를 하위 도메인으로
    - 기술적인 관점에서 하위 도메인은 상호 연관되고 응집된 유스케이스의 집합과 유사하다
        - 이러한 유스케이스 집합에서는 보통 동일한 행위자(actor), 비즈니스 엔티티(business entity)를 포함하고 모두 밀점하게 관련된 데이터의 집합을 다룬다
            - 상인 &rarr; [신용카드 결제 게이트웨이](승인, 점유, 검증, 철회, 신용거래) &rarr; 상인의 은행, 고객의 은행
            - 위 경우 작업 중인 데이터 및 관련된 행위자와 밀접하게 연관되어 있다 &rarr; 모든 유스케이스는 신용카드 결제 하위도메인을 형성한다 &rarr; `정재 중단`
    - 도메인을 정제하는 것은 중요하다
        - 핵심 하위 도메인은 중요하다 &rarr; 집중하고 기능에 투자
    - 일반, 지원 도메인의 경우 정제 작업을 완화할 수 있다
        - 고객 서비스 &rarr; 상담 사례 라우팅(핵심), 헬프 데스크 시스템(일반), 전화(일반), 교대관리(지원)
        - 여기에서 헬프 데스크 시스템을 더욱 정제하면
            - 헬프 데스크 시스템 &rarr; 티켓 수명주기(일반), 검색(일반), 지식 기반(일반), 경고시스템(일반)
            - 추가로 정제하여도 유용한 정보가 나오지 않는다 &rarr; 하위 도메인을 크게 나눠서 이미 만들어져 있는 도구를 솔루션으로 사용한다
- 핵심에 집중
    - 하위 도메인은 소프트웨어 설계 의사결정을 내리는 프로세스의 어려움을 쉽게 해결하도록 돕는 도구이다
        - 소프트웨어와는 아무 관련이 없는 비즈니스 기능을 식별하고, 그 자체로 인정하며, 작업 중인 소프느웨어 시스템과 관련된 비즈니스에 집중하는 것이 중요

### 도메인 분석 예제

- Gigmaster &rarr; 티켓 판매 및 유통회사
    - 도메인
        - 비즈니스 도메인
            - 티켓 판매
        - 핵심 하위 도메인
            - 추천 엔진
            - 데이터 익명화
            - 모바일 앱
        - 일반 하위 도메인
            - 암호화 : 모든 데이터 암호화
            - 회계 : 회사가 영업을 하고 있기 때문
            - 정산 : 고객에게 청구
            - 인증 및 권한 부여 : 사용자 식별
        - 지원 하위 도메인
            - 음악 스트리밍 서비스와 연동
            - 소셜 네트워크와 연동
            - 참석 공연 모듈
    - 설계 의사 결정
        - 추천 엔진, 데이터 익명화, 모바일 앱은 가장 진보된 엔지니어링 도구와 기술을 사용하여 사내에서 구현돼야 한다
        - 데이터 암호화, 회계, 정산, 인증에는 사용 또는 오픈소스 솔루션을 사용한다
        - 스트리밍 서비스, 소셜 네트워크와의 연동과 참석한 공연을 위한 모듈 개발은 하청할 수 있다
- BusVNext &rarr; 대중교통회사
    - 도메인
        - 비즈니스 도메인
            - 대중교통
        - 핵심 하위 도메인
            - 라우팅 : 취소 원인을 해결하기 위한 빠른 픽업을 위한 라우팅 알고리즘
            - 분석 : 통찰력을 위한 지속적인 분석
            - 모바일 앱 사용자 경험
            - 차량관리
        - 일반 하위 도메인
            - 교통 상황
            - 회계
            - 청구
            - 권한 부여
        - 지원 하위 도메인
            - 프로모션, 할인
    - 설계 의사결정
        - 라우팅 알고리즘, 데이터 분석, 차량 관리, 앱 사용성은 가장 정교한 기술 도구와 패턴을 사용해서 사내에서 개발
        - 판촉 관리 모듈의 구현은 외부 위탁 가능
        - 교통 상황 식별, 사용자 권한 관리, 재무는 외부 서비스 제공업체게 맡길 수 있다

### 도메인 전문가는 어떤 사람인가?

- 모델링하고 코드로 구현할 비즈니스의 모든 복잡성을 알고 있는 주제 전문가이다 &rarr; 소프트웨어의 비즈니스 도메인에 대한 권위자
- 요구사항을 수집하는 분석가도 시스템을 설계하는 엔지니어도 아니다 &rarr; 비지니스를 대표한다 (비즈니스 지식의 근원이 되는 비즈니스 문제를 처음으로 파악한 사람들)
- 일반적으로 도메인 전문가는 요구사항을 제시하는 사람 또는 소프트웨어의 최종 사용자이다 &rarr; 소프트웨어는 그들의 문제를 해결해야 한다
