- 하위 도메인 내부에서 발생하는 일, 즉 비즈니스 기능과 로직에 초점을 맞춘다
- 효과적인 커뮤니케이션과 지식 공유를 위한 도메인 주도 설계 도구인 유비쿼터스 언어를 배우고, 유비쿼터스 언어를 통해 비즈니스 도메인의 복잡성을 배우며, 비즈니스 로직을 소프트웨어 모델로 만들고 구현하는데 이를
  활용한다

## 비즈니스 문제

- 소프트웨어는 비즈니스 문제를 해결하는 솔루션이다
    - 문제 &rarr; 워크플로, 프로레스 최적화, 수작업 최소화, 자원 관리, 의사결정 지원, 데이터 관리 등 다양하다
- 하위 도메인은 세분화된 문제 도메인(problem doamin)으로 특정 비즈니스 기능에 대한 솔루션을 제공하는 것이 목적이다
    - 지식 관리 하위 도메인 &rarr; 정보를 저장하고 추출하는 프로세스
    - 어음 교환 하위 도메인 &rarr; 재무 거래 실행 프로세스를 최적화하는 솔루션

## 도메인 지식 찾아내기

- 비즈니스 문제와 요구사항 이면에 있는 이유에 대한 이해가 없다면 솔루션은 비즈니스 요구사항을 소스코드로 "번역"하는 것에 불과하다
- 소프트웨어 프로젝트의 성공은 도메인 전문가와 스프트웨어 엔지니어 간의 효과적인 지식공유에 달렸다
    - `지식공유에는 효과적인 커뮤니케이션이 필요하다`

## 커뮤니케이션

- 문서화된 커뮤니케이션은 최신 정보를 담아내지 못한다
    - 결국 소스코드가 나중에 프로젝트를 유지관리할 엔지니어에게 까지도 비즈니스 도메인 지식을 전달하는데 사용된다
    - 도메인 주도 설계는 지식을 전달하기 위한 더 나은 방법을 제안 하는데 그것이 `유비쿼터스 언어`이다

## 유비쿼터스 언어란 무엇인가?

- 참가자들이 효과적으로 소통하기 위해 변환에 의존하지 말고 같은 언어를 사용하는 것이다
    - 우리가 말하는 상식은 일반적이지 않다
- 전통적인 소프트웨어 개발 라이프 사이클
    - 도메인 지식이 분석 모델로 &rarr; 분석모델이 요구사항으로 &rarr; 요구사항은 시스템 설계로 &rarr; 시스템 설계는 코드로
    - 도메인 주도 설계는 위와 같이 도메인 지식을 계속해서 변환하는 대신, 비즈니스 도메인을 설명하기 위한 단일화된 언어 체계를 세우고자 한다 &rarr; 유비쿼터스 언어

## 비즈니스 언어

- 유비쿼터스 언어는 비즈니스 언어이다 &rarr; 기술용어는 빼고 비즈니스 도메인에 관련된 용어로만 구성해야한다

### 시나리오

- 광고 캠페인은 다양한 창의적인 자료를 전시할 수 있다    (O) 광고의 아이프레임은 HTML 파일을 표시한다 (X)
- 캠페인은 최소한 하나의 광고 할당이 활성화되어야 게시된다 (O) 캠페인은 활성-할당 테이블에 하나의 연관 레코드가 있어야 게시된다
- 개발자는 비즈니스 로직을 완전히 이해할 수 없거나 비즈니스 로직이 왜 그렇게 운영되는지 이해할 수 없어 결국 효과적으로 솔루션을 구현하는 능력이 제한된다

### 일관성

- 정확하고 일관성이 있어야 한다, 가정할 필요가 없어야 하고 비즈니스 도메인의 로직을 명료하게 표현해야 한다
- 모호성이 커뮤니케이션을 방해하기 때문에 유비쿼터스 언어의 용어는 오직 하나의 의미를 가져야 한다

### 동의어

- 사용자, 방문자, 관리자, 계정 등 용어가 혼용되는 경우가 있다 &rarr; 실제로는 다른 개념이다
- 용어의 차이점을 이해해야 간단하고 명확한 모델을 구축하고 비즈니스 도메인 객체의 구현이 가능하다

## 비즈니스 도메인 모델

### 모델이란 무엇인가?

- `모델이란 사물이나 현상에서 의도한 관점만 강조하고 다른 축명은 무시하여 간략히 표한한 것이다. 즉, 특정 용도를 마음에 둔 추상화의 결과이다`
    - 지구 &rarr; 지형 지도, 항공 지도, 지하철 노선도

### 효과적인 모델링

- 모든 모델에는 목적이 있고 효과적인 모델은 그 목적을 당성하는 데 필요한 세부사항만 포함한다
- 즉 유용한 모델은 실세계의 복사본이 아니라 문제를 해결하려는 의도고 있으며, 그 목적에 필요한 정보만 제공해야 한다

### 추상화

- 불필요한 상세 정보를 생략하여 복잡한 문제를 다룰 수 있게 하고 당면한 문제를 푸는데 필요한 정보만 남게 한다
- `추상화의 목적은 모호함이 아니라 절대적으로 정확할 수 있는 새로운 의미론적 수준을 만드는 것`

### 비즈니스 도메인 모델링

- 모델은 비즈니스가 기능을 어떻게 구현하느냐에 대한 도메인 전문가의 사고 프로세스인 멘탈 모델을 포착해야한다
- 모델은 관련된 비즈니스 엔티티(business entity)와 그것의 행동, 인과 관계, 불변성 등을 반영해야 한다
- `소프트웨어가 해결하고자 하는 특정 문제를 해결하는 데 필요한 만큼의 비즈니스 모델 관점을 포함하면 된다`

### 지속적인 노력

- 모든 이해관게자는 모든 프로젝트와 관련된 커뮤니케이션에 유비쿼터스 언어를 지속적으로 사용해서 지식 공유를 확산하고 비즈니스 도메인에 대한 공유된 이해를 강화해야 한다
- 지속해서 검증하고 발전시켜야 한다

### 도구

- 용어집(위키, glossary)
    - 비즈니스 도메인의 용어에 대한 정보를 얻을 수 있는 거점 역할을 하므로 새로운 팀원이 쉽게 적응하게 해준다
- `거킨 테스트(Gherkin test)`
    - 용어집은 본질적인 한계가 있다
    - 엔티티의 이름, 과정, 역할 등의 '명사'에만 효과적이다. 명사가 중요하기 한지만 행동(behavior)를 포착하는 것이 중요하다
    - 행동은 단순히 명사와 관련된 동사의 목록이 아니라 규칙, 가정, 그리고 불변성을 가진 실제 비즈니스 로직이다
    - 이런 개념은 용어집으로 문서화 하기 어렵다
    - 거킨 언어로 작성된 자동화 테스트는 유비쿼터스 언어를 포착하기에 좋은 언어일 뿐 아니라 도메인 전문가와 엔지니어의 간극을 메우는 보조도구 역할을 한다
    - 예제
        - Scenario : 에이전트에게 새로운 직원 케이스에 대해 알린다
        - Given : 빈센트 줄스는 다음 내용을 담은 새로운 지원 케이스를 제출한다
        - When : 티켓이 울프씨에게 할당된다
        - Then : 에이전트는 새로운 티켓에 대해 알림을 받는다

- 정적 코드 분석 도구(NDepend)
    - 이런 도구가 유용하긴 하지만 일상적인 상호작용에서 실제로 유비쿼터스 언어를 사용하는 것보다 못하다
    - 프로세스나 도구보다 개인과 상호작용이 우선이다
