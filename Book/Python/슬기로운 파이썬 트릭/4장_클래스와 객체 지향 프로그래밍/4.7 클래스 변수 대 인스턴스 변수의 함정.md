## 클래스 변수 대 인스턴스 변수의 함정

- 클래스 메서드와 인스턴스 메서드를 구별하는 것 외에도 파이썬의 객체 모델은 클래스와 인스턴스의 변수를 구별한다
    - 즉 파이썬 객체는 '클래스 변수'와 '인스턴스 변수'라는 두 가지 속성이 있다

- 클래스 변수
    - 클래스 변수는 클래스 정의 안에 선언된다
    - 이 변수는 특정 클래스 인스턴스에 묶여 있지 않다
    - 대신 클래스 자체에 내용을 저장하고, 같은 클래에서 생성된 모든 객체는 동일한 클래스 변수 집합을 공유한다
    - 다시 말하면 클래스 변수를 수정하면 동시에 모든 객체 인스턴스에 영향을 미친다
- 인스턴스 변수
    - 항상 특정 객체 인스턴스에 묶여 있다
    - 클래스에 저장되지 않고 클래스에서 생성된 개별 객체에 저장된다
    - 즉 인스턴스 변수의 내용은 객체 인스턴스마다 완전히 독립적이므로 변수의 값을 수정하면 그 객체에만 영향을 미친다

### 클래스 변수 활용 예

```python
class ContedObject:
    num_instances = 0

    def __init__(self):
        self.__class__.num_instances += 1
```

- CountedObject는 공유 카운터 역할을 하는 num_instances클래스 변수를 갖고 있다
- 클래스가 선언되면 카운터가 0으로 초기화된 채로 있는다
    - __init__ 생성자가 실행되면서 공유 카운터가 1씩 증가한다

```python
class BuggyContedOjbect:
    num_instances = 0

    def __init__(self):
        self.num_instances += 1
```

- 위 코드 처럼 작성하면 안된다
    - 실수로 생성자에서 동일한 이름의 인스턴스 변수를 만들어 클래스 변수 num_instance를 가렸기 떄문이다 