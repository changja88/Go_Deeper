## 요점 정리

- TDD는 요약본이 없음
- 책 따라서 진행 한 결과물은 src/main/TDD 와 test/kotlin/TDD에 있으며 진행 순서가 기록 되어 있지 않고 최종 결과만 있음
- 여기에는 위 과정을 진행하면서 중요한 포인트만을 기록 하였음

## TDD의 목표

`작동하는 깔끔한 코드(clean code that works)가 TDDD의 궁극적인 목표이다`

- 작동하는 깔끔한 코드가 훌륭한 목표인 이유
    - 예측 가능한 갭라 방법이다. 끊임없이 발생할 버그에 대해 걱정하지 않고, 일이 언제 마무리될지 알 수 있다
    - 코드가 가르쳐주는 모든 교훈을 학습할 기회를 갖게 된다. 처음 생각나는 대로 후딱 완료해 버리면 두 번째 것, 더 나은 것에 대해 생각할 기회를 잃게 된다
    -

## TDD를 해야 하는 이유

    - 자동화된 테스트를 만드느라 추가작업을 해야 하는 이유는 뭘까?
    - 엄청나게 복잡한 설계를 머릿속에서 그려낼 수 있는 엔지니어들마저 작은 단계를 종종걸음으로 밟아나가야만 하는 이유는 무엇인가
    - `용기` 때문이다

### 용기

- 테스트 주도 개발은 프로그래밍하면서 나타나는 두려움을 관리하는 방법이다
    - 두려움이란 "정말 어려운 문제라서 시작 단계인 지금은 어떻게 마무리될지 알 수 없군"하고 생각하는 식의 합리적인 두려움을 말한다
- 두려움을 피드백으로 해결해야한다
- `즉, TDD란 프로그래밍 도중 내린 결정과 그 결정에 대한 피드백 사이의 간격을 인지하고, 또한 이 간격을 통제할 수 있게 해주는 기술을 말한다`
- TDD로만 풀어낼 수 없는 작업이 있다
    - 보안과 동시성은 TDD로만 목표가 달성되었다는 것을 기계적으로 보여주기에는 부족한 주제이다

## TDD 주기

- 1> 작은 테스트를 하나 추가한다
- 2> 모든 테스트를 실행해서 테스트가 실패하는 것을 확인한다
- 3> 조금 수정한다
- 4> 모든 테스트를 실행해서 테스트가 성공하는 것을 확인한다
- 5> 중복을 제거하기 위해 리팩토링 한다

## 중복제거

- 중복 제거라는 것은 생각보다 범위가 넓다
- amount = amount * multipler
    - 위 코드에도 중복이 있으며 10 과 5*2도 같은 뜻으로 사용이 되고 있다면 중복이 있다고 볼 수 있다

## TDD 주기

- 1> 테스트를 작성한다. 마음속에 있는 오퍼레이션이 코드에 어떤 식으로 나타나길 원하는지 생각해보라. 이야기를 써내려가는 것이다. 원하는 인터페이스를 개발하라. 올바른 답을 얻기 위해 필요한 이야기의 모든 요소를
  포함 시켜라
- 2> 실행 가능하게 만든다. 다른 무엇보다도 중요한 것은 빨리 초록 막대를 보는 것이다. 깔끔하고 단순한 해법이 명백히 보인다면 그것을 입력하라. 깔끔하고 단순한 해법이 있지만 구현하는 데 몇 분 정도 걸릴 것
  같으면 일단 적어 놓은 뒤에 원래 문제(초록 막대를 보는것)로 돌아오자. 미적인 문제에 대한 이러한 전환은 몇몇 숙련된 소프트웨어 공학자들에게는 어려운 일이다. 그들은 오로지 좋은 공학적 규칙을 따르는 방법만 알
  뿐이다. 빨리 초록 막대를 보는 것은 모든 죄를 사해준다. 하지만 아주 잠시 동안 만이다
- 3> 올바르게 만든다. 이제 시스템이 작동하므로 직전에 저질렀던 죄악을 수습하자. 좁고 올곧은 소프트웨어 정의(software righteousness)의 길로 되돌아와서 중복을 제거하고 초록 막대로 되돌리자
- 즉, '작동하는 깔끔한 코드'에서 작동하는 부터 먼저 해결하는 나누어서 정복하는(divide and conquer)방식이며, 아키텍처 주도 개발과 정반대이다
