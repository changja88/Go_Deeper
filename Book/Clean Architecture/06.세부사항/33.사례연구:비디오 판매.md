## 사례 연구 : 비디오 판매

### 제품

- 소프트웨어 튜토리얼 영상을 판매한다
- 개인은 단품 가격을 지불해 스트리밍으로 보거나 더 높은 가격을 내고 비디오를 다운로드해서 연구 소장 할 수 있다
- 기업의 경우 스트리밍 전용이며, 대량 구매를 하면 할인을 받을 수 있고, 구매자와 시청자가 상이하다

### 유스케이스 분석

<img src = "../img/IMG_5508.jpg" width = "800" height = "500">

- 네 개의 주요 액터는 분명하다. 단일 책임 원칙에 따르며 이들 네 액터가 시스템이 변경되어야 할 네가지 주요 근원이 된다
- 신규 기능을 추가하거나 기존 기능을 변경해야 한다면, 그 이유는 반드시 이들 액터 중 하나에게 해당 기능을 제공하기 위해서다
    - 따라서 시스템을 분할하여, 특정 액터를 위한 변경이 나머지 액터에게는 전형 영향을 미치지지 않게 만들어야 한다
- 점선으로 된 유스케이스는 추상 유스케이스다. 추상 유스케이스는 범용적인 정책을 담고 있으며, 다른 유스케이스에서 이를 더 구체화 한다
    - 시청자 입장에서 카탈로그 조회하기와 구매자 입장에서 카탈로그 조회하기 유스케이스는 모두 카탈로그 조회하기라는 추상 유스케이스를 상속받는다
    - 추상 유스케이스가 반드시 필요한 것은 아니다. 두 유스케이스가 비슷했기 때문에 통합하는 것이 더 좋다고 판단 했을 뿐

### 컴포넌트 아키텍처

<img src = "../img/IMG_5509.jpg" width = "800" height = "500">

- 액터와 유스케이스를 식별했으므로, 예비 단계의 컴포넌트 아키텍처를 만들어 볼 수 있다
    - 이중으로 된 선은 아키텍처 경계를 나타낸다
    - 뷰, 프리젠터, 인터랙터, 컨트롤러로 분리된 분할 방법을 확인할 수 있다
- 액터에 따라 카테고리를 분리 했다는 것을 확인 할 수 있다
    - CatalogView, CatalogPresenter는 추상 클래스라는 것을 위한 표현 하기 위한 저자의 방법이다

### 의존성 관리

- 모든 의존성은 경계선을 한 방향으로만 가로지르는데, 항상 더 높은 수준의 정책을 포함하는 컴포넌트를 향한다

### 결론

- 아키텍처 다이어그램은 두 가지 서로 다른 차원의 분리 개념을 포함하고 있다
    - 하나는 단일 책임 원칙에 기반한 액터 분리
    - 두 번째는 의존성 규칙이다
- 이 두 차원은 모두 서로 다른 이유로, 서로 다른 속도로 변경되는 컴포넌트를 분리하는데 목적이 있다
    - 서로 다른 이유는 액터와 관련이 있으며, 서로 다른 속도는 정책 수준과 관련이 있다 
  