## 소리치는 아키텍

- 청사진을 보고 있다고 상상해보자 이걸보다 집이야!, 도서관이야! 라고 소리칠 수 있다
- 여러분의 애플리케이션 아키텍처는 뭐라고 소리치는가?
    - 상위 수준의 디렉터 구조, 최상위 패키지에 담긴 소스파일을 볼 때
    - 이 아키텍처는 '헬스 케어 시스템이야' 또는 '재고 관리 시스템이야'라고 소리치는가?
    - 아니면 '레일스야', '스프링이야'라고 소리치는가?

### 아키텍처의 테마

- 주택이나 도서관의 계획서가 해당 건축물의 유스케이에 대해 소리치는 것처럼, 애플리케이션의 아키텍처오 애플리케이션의 유스케이스에 대해 소리쳐야 한다
- 아키텍처는 프레임워크에 대한 것이 아니다. 아키텍처를 프레임워크로부터 제공 받아서는 절대 안 된다
    - 프레임워크는 사용하는 도구일 뿐, 아키텍처가 준수해야 할 대상이 아니다
    - 아키텍처를 프레임워크 중심으로 만들어버리면 유스케이스가 중심이 되는 아키텍처는 절대 나올 수 없다

### 아키텍처의 목적

- 좋은 아키텍처는 유스케이스를 그 중심에 두기 때문에, 프레임워크나 도구, 환경에 전혀 구애받지 않고 유스케이스를 지원하는 도구를 아무런 문제없이 기술할 수 있다

### 프레임워크는 도구일 뿐, 삶의 방식은 아니다

- 프레임워크를 어떻게 사용할지, 그리고 프레임워크를 사용하지 않으려면 어떻게 해야할지를 스스로에게 물어보라
- 어떻게 하면 아키텍처를 유스케이스에 중점을 둔 채 그대로 보전할 수 있을지를 생각하라
- 프레임워크가 아키텍처의 중심을 차지하는 일을 막을 수 있는 전략을 개발하라

### 테스트하기 쉬운 아키텍처

- 아키텍처가 유스케이스를 최우선으로 하고, 프레임워크와 거리를 둔다면 프레임워크를 전혀 준비하지 않더라도 필요한 유스케이스 전부데 대해 다윈 테스트를 할 수 있어야 한다
    - 테스트를 돌리는 웹 서버가 반드시 필요한 상황이 되어서는 안 된다
    - 데이터베이스가 반드시 연결되어 있어야만 테스트를 돌릴 수 있어서도 안 된다
    - 엔티티 객체는 반드시 오래된 방식의 간단한 객체(Plain old object)여야 하며 프레임워크다 데이터베이스 또는 여타 복잡한 것들에 의존해서는 안 된다

### 결론

- 새로 합류한 프로그래머는 시스템이 어떻게 전달 될지 알지 못한 상태에서도 시스템의 모든 유스케이스를 이해할 수 있어야 한다
- 모델처럼 보이는 것들을 확인했습니다. 그런데 뷰와 컨트롤러는 어디에 있죠? 라고 묻는다면
    - 그건 세부사항이므로 당장은 고려할 필요가 없습니다.나중에 결정할 겁니다 와 같은 대답을 할 수 있어야 한다 